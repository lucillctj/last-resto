<h1 class="title">Modifier mes informations</h1>

<form *ngIf="currentUser"#form="ngForm" (ngSubmit)="onSubmit()">

  <div class="form-group">
    <label>Prénom</label>
    <input type="text" [(ngModel)]="updatedUser.first_name" class="form-control" [value] = "currentUser" name="firstName">{{currentUser.first_name}}
  </div>

  <div class="form-group">
    <label>Nom</label>
    <input type="text" [(ngModel)]="updatedUser.last_name" class="form-control" placeholder="{{ currentUser.last_name }}" name="lastName">
  </div>

  <div class="form-group">
    <label>Email</label>
    <input type="email" [(ngModel)]="updatedUser.email" class="form-control" placeholder="{{ currentUser.email }}" name="email">
    <div *ngIf="errorMessageEmail" class="error-message">{{ errorMessageEmail }}</div>
  </div>

  <div class="form-group">
    <label>Téléphone</label>
    <input type="tel" [(ngModel)]="updatedUser.phone" class="form-control" placeholder="updatedUser.phone" name="phone">
    <div *ngIf="errorMessagePhone" class="error-message">{{ errorMessagePhone }}</div>
  </div>

  <div class="form-group">
    <label>Mot de passe</label>
    <input type="password" [(ngModel)]="updatedUser.password" class="form-control" placeholder="**********" name="password" minlength="6">
  </div>

  <div class="form-group">
    <label>Adresse</label>
    <input type="text" [(ngModel)]="updatedUser.address" class="form-control" placeholder="{{ currentUser.address }}" name="address">
  </div>

  <div class="form-group">
    <label>Code postal</label>
    <input type="text" [(ngModel)]="updatedUser.post_code" class="form-control" placeholder="{{currentUser.post_code}}" name="postCode">
  </div>

  <div class="form-group">
    <label>Ville</label>
    <input type="text" [(ngModel)]="updatedUser.city" class="form-control" placeholder="{{ currentUser.city }}" name="city">
  </div>

  <button type="submit" class="btn" [disabled]="!form.form.valid"> Mettre à jour ! </button>
</form>

<div *ngIf="successMessage" class="success-message">{{ successMessage }}</div>
<div *ngIf="errorMessage" class="error-message">{{ errorMessage }}</div>
